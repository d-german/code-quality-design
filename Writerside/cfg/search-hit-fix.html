<!-- cfg/search-hit-fix.html -->
<style>
    /* ───────────────────────────────────────────────────────────────
       1.  REMOVE Writerside “powered-by” FOOTER
       ────────────────────────────────────────────────────────────── */
    .app__footer { display: none !important; }

    /* ───────────────────────────────────────────────────────────────
       2.  HIDE THE ADVANCED-SEARCH BUTTON COMPLETELY
           Covers all known class / data-attr variants in Writerside 6–7
       ────────────────────────────────────────────────────────────── */
    [data-test="full-search-button"],
    .quick-search__results-header,   /* your current build             */
    .quick-search__advanced-link,          /* Writerside ≤6                  */
    .DocSearch-SeeAllResults,              /* Writerside 7                   */
    button[aria-label="See all results"] { /* future fallback                */
        display: none !important;
    }
</style>

<script>
    /* ───────────────────────────────────────────────────────────────
         QUICK-SEARCH TITLE CLEAN-UP  (strip trailing “: undefined”)
       ───────────────────────────────────────────────────────────── */
    (function () {
        const BAD = /\s*:\s*undefined\s*$/;

        function tidy(el) {
            if (el && BAD.test(el.textContent))
                el.textContent = el.textContent.replace(BAD, '');
        }

        function init() {
            /* clean titles already present */
            document.querySelectorAll('.quick-search__title').forEach(tidy);

            /* keep cleaning as new results arrive */
            new MutationObserver(ms =>
                ms.forEach(m =>
                    m.addedNodes.forEach(n =>
                        n.querySelectorAll?.('.quick-search__title').forEach(tidy)
                    )
                )
            ).observe(document.body, { childList: true, subtree: true });
        }

        document.readyState === 'loading'
            ? document.addEventListener('DOMContentLoaded', init)
            : init();
    })();
</script>