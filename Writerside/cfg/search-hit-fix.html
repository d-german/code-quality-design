<!-- cfg/search-hit-fix.html -->
<style>
    /* ───────────────────────────────────────────────────────────────
       1. REMOVE “powered-by” FOOTER
       ────────────────────────────────────────────────────────────── */
    .app__footer { display: none !important; }

    /* ───────────────────────────────────────────────────────────────
       2. HIDE  -  Quick-search header + all Advanced-search buttons
       ────────────────────────────────────────────────────────────── */
    .quick-search__results-header,          /* your build               */
    [data-test="full-search-button"],       /* your button variant      */
    .quick-search__advanced-link,           /* Writerside ≤6            */
    .DocSearch-SeeAllResults,               /* Writerside 7             */
    button[aria-label="See all results"] {  /* fallback                 */
        display: none !important;
    }
</style>

<script>
    /* ───────────────────────────────────────────────────────────────
       QUICK-SEARCH PATCHES
       – strip “ : undefined” from hit titles
       – replace placeholder text in the search box
       ───────────────────────────────────────────────────────────── */
    (function () {
        const BAD_SUFFIX      = /\s*:\s*undefined\s*$/;
        const NEW_PLACEHOLDER = 'Search docs…';          // ← set your label here
        const INPUT_SEL       =
            '.quick-search input[type="search"], ' +   /* Writerside 6 */
            '.DocSearch-Search-Input';                 /* Writerside 7 */

        /* --- helpers ------------------------------------------------- */
        function tidyTitle(el) {
            if (el && BAD_SUFFIX.test(el.textContent))
                el.textContent = el.textContent.replace(BAD_SUFFIX, '');
        }

        function setPlaceholder(input) {
            if (input && input.placeholder !== NEW_PLACEHOLDER)
                input.placeholder = NEW_PLACEHOLDER;
        }

        /* --- run once and keep tidy ---------------------------------- */
        function init() {
            /* 1. clean any titles already present */
            document.querySelectorAll('.quick-search__title').forEach(tidyTitle);

            /* 2. fix existing search input(s) */
            document.querySelectorAll(INPUT_SEL).forEach(setPlaceholder);

            /* 3. observe future mutations */
            new MutationObserver(mutList =>
                mutList.forEach(mut =>
                    mut.addedNodes.forEach(node => {
                        node.querySelectorAll?.('.quick-search__title')
                            .forEach(tidyTitle);
                        node.querySelectorAll?.(INPUT_SEL)
                            .forEach(setPlaceholder);
                    })
                )
            ).observe(document.body, { childList: true, subtree: true });
        }

        document.readyState === 'loading'
            ? document.addEventListener('DOMContentLoaded', init)
            : init();
    })();
</script>
